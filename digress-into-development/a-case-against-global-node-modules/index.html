<!DOCTYPE html><html lang=en><head><title>A Case Against Global Node Modules - Frederik Dudzik</title><link rel=stylesheet media=all href=/index-557871ab4c9888fdac76afd5ce6dde1e.css><link href=/favicon.ico type=image/x-icon rel=icon><meta charset=utf-8><meta name=robots content=index,follow><meta name=keywords content="dudzik, frederik dudzik, why local modules, why should I use local modules"><meta name=description content="This article highlights arguments for and against using global node modules"><meta name=author content="Frederik Dudzik - www.dudzik.co"><meta name=viewport content="width=device-width,initial-scale=1"></head><body><header><h3><a href=/digress-into-development>digress into development</a></h3><h1><a href=/digress-into-development/a-case-against-global-node-modules>A Case Against Global Node Modules</a></h1></header><div class=post id=contents><p>I keep on stumbling upon node modules that encourage global installation(<a href=http://web.archive.org/web/20170122115955/https://github.com/sindresorhus/xo/blob/master/readme.md>1</a>, <a href=http://web.archive.org/web/20161224131302/https://mochajs.org/ >2</a>, <a href=http://web.archive.org/web/20170122115531/https://github.com/gotwarlost/istanbul/blob/master/README.md>3</a>), which allows them to be used as commands in a terminal. For commands that aren’t tied to a project this might be all right, but otherwise they shouldn’t be installed globally.</p><p>A project might rely on a specific version of a command. If the command is required by another project you will have to reinstall the command every time you switch between projects.</p><p>Even if you use commands with a stable API you will have to specify them as a dependency. As <a href=https://www.npmjs.com>npm</a> doesn’t offer a way to specify a global dependency an <a href=http://web.archive.org/web/20160611060024/https://docs.travis-ci.com/user/languages/javascript-with-nodejs#Using-Gulp>additional configuration step</a> has to be added, documented and maintained. This might seem like a small trade off, but as a project grows, a complex configuration will be more error prone.</p><p>A globally installed command has its advantages. It requires less effort to write its name than its full path and it takes up less space, because it is reused throughout your system.</p><p>To reduce the memory footprint of your local packages you could switch to the <a href=https://yarnpkg.com>yarn package manager</a>. It installs a specific module version in a global cache and links it into the local node_modules folder.</p><p>To make working with local commands as pleasant as with global ones you could reference them like global ones in the <a href=http://web.archive.org/web/20170101092618/https://docs.npmjs.com/misc/scripts#path>script section of the package.json file</a> or add a command to your shell that <a href=https://web.archive.org/web/20160818010711/http://www.2ality.com/2016/01/locally-installed-npm-executables.html>executes locally installed commands of the nearest node project</a>.</p></div></body></html>